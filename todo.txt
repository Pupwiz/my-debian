Cannot preseed location toggle key. Even with kernel params.
x 2018-02-07 Localization in single-user mode console.
x 2018-02-11 Populate /etc/skel via package; package is required, because first user is created before postinst script.
x 2018-02-12 Login without DM: https://wiki.gentoo.org/wiki/X_without_Display_Manager.
x 2018-02-12 X, i3 and themes (without much customizations).
x 2018-02-12 How to make usb stick?
x 2018-02-14 Image check failed due contrib and non-free packages absence.
x 2018-02-25 Try to add disk partitioning in separate profile and vbox specifics in another one.
x 2018-02-25 maunt params for ssd disk.
x 2018-02-28 Keyboard layout switching and indicator.
x 2018-02-28 Localization in X mode.
x 2018-03-01 notify-send, notification-daemon, dbus - don't work, tried dunst - the same, should check dbus.
x 2018-03-01 Alias for time conversions like `date -d"10:00MSK"`.
x 2018-03-01 rofi won't work with aliases. need a way to execute custom utils via rofi, aliases was an interesting idea.
x 2018-03-01 wget stores empty files in postinst of custom package during OS installation. Won't fix, workaround.
x 2018-03-01 Install one wallpaper and symlink, prepare script to download wallpapers and choose random one at every login.
x 2018-03-09 pass for encrypted passwords (for mutt).
x 2018-03-09 Mail and Mutt.
x 2018-03-11 Refactor dotfiles into separate repositories. see stow and myrepos.
x 2018-03-11 Resolve conflict of .bashrc.
x 2018-03-15 Customize i3 and menu.
x 2018-03-15 Convert custom utils into scripts in $HOME/bin + $HOME/.local/share/applications/*.desktop shortcuts, which rofi can use.
x 2018-03-17 Check vim plugins, spell and switching langs.
x 2018-03-17 File permissions - to some extend.
x 2018-03-17 Firewall.
x 2018-03-17 apparmour.
x 2018-03-17 firejail - https://firejail.wordpress.com/documentation-2/.
x 2018-03-17 systemd timers for security updates (already existed).
x 2018-03-17 ssh + protection (fail2ban, sshd settings, ufw rules). Enough for laptop/VM usage (most time behind router's firewall).
x 2018-03-20 Make parted recipe to preserve existing partitions.
x 2018-03-20 Create encrypted directory... Won't do. Not very reliable.
x 2018-03-27 Mount some partitions as overlayed. Checked, but need custom package installed at the end of the whole process.
x 2018-04-01 Custom packages. Created example on github. Install from testing/contrib/backports.

go config is wrong (GOROOT, GOPATH, go dir)

Backup script and approach (check, review, integrate):
systemd timer for backups onto local partition, mail remainders to make backup to external drive
backup ssh and gpg keys and passwords (+ file permissions)
backup script should run with backup group privileges, not root
use myrepos, stow and file-based private repos to backup/restore private keys and passwords
add note to readme with instructions to copy ssh and pgp keys. display readme at startup.
use --mirror to file based repositories and myrepos to backup repositories
setup mirror for all repositories to file, and some to bitbucket/gitlab
http://experiments.openhood.com/git/2010/04/09/mirror-a-git-repository-for-backup/
https://www.marksanborn.net/howto/use-rsync-for-daily-weekly-and-full-monthly-backups/
https://github.com/rsnapshot/rsnapshot/blob/master/docs/docbook/rest.txt
https://blog.interlinked.org/tutorials/rsync_time_machine.html
backup installed packages: https://wiki.debian.org/ListInstalledPackages

Passwords:
check that no passwords, keys are in the repo
check that user name is not hardcoded in scripts and configs
regenerate all the ssh and pgp keys, backup them, copy to the local systems, replace on github/bitbuket/vdsina (create script to use next time, restrict keys' lifetime)
migrate from lastpass to gopass, change all passwords
setup vim and rofi as described in gopass instructions
change multifon script to use gopass
store newsbeuter's rss tokens in gopass

Virualization:
KVM (or VBox? KVM is Linux-only, scripts won't work on Mac)
docker (run 3rd party containers in VM, it's unsecure to run them on host, it's safe to run dev containers in VM as well)
do not install docker on the host, only docker client, do not create docker group (alternative: https://askubuntu.com/a/982187)
consider alias and NORASSWD to save typing sudo and password
https://blog.scottlowe.org/2017/11/24/using-docker-machine-kvm-libvirt/
Andorid
vagrant script to automate build even more


Hardware (check/fix):
Nvidia, optimus - ?, gltron, tint
sound, input
Yota modem
keyboard backlight, special keys
hibernation, battery life
printer, scanner
camera (+ tool to switch it off)

Caching/offline mode/alternative routes for public repositories. Net security, privacy and ads blocking.
something like squid or other caching proxy. preferably, with fallback to tor/i2p (mostly for github/bitbucket/gitlub, but can be global for all web, with rules to store git data longer and discard movies)
vpn/onion/tor/i2p transport to be easily switched on, just in case?
user -> squid -> privoxy -> tor
squid for caching;
privoxy for adds filtering and routing to tor;
squid can block adds itself, here (also about ssl): https://wiki.alpinelinux.org/wiki/Setting_up_Explicit_Squid_Proxy
tor as a alternative route to git (it's possible to have several cache_peer's with weights and probe them in order);
havp + clamav - for antivirus;
squid has problems with https. for git-only cache: https://github.com/jonasmalacofilho/git-cache-http-server, https://github.com/sitaramc/gitpod in the docker or VM, https://github.com/Seb35/git-cache
https://www.void.gr/kargig/blog/2016/12/12/firejail-with-tor-howto/


Final touch:
put all the settings, packages, utils etc from backups and mac to image + create *.desktop shortcuts for other apps
themes and plugins for vim, cmus, mutt, etc.
bitlbee+libpurple -> hangouts, skype, slack
lost messages - ?
upwork - ?
deezer - ?

Security:
Install customized overlayroot package to mount /,/boot, /var as overlayfs. Need to solve an issue with apt.
Review logs in VM before installation onto laptop.
